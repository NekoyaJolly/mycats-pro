

# 猫生体管理アプリ設計ドキュメント（最新版）

---

## 1. アプリ概要

本アプリは**猫の生体管理を効率化**し、紙や個別システムでバラバラに管理されていた情報の一元化を目的としています。
主なゴールは**在舎猫情報、健康管理、繁殖計画、子猫管理、血統書作成等をDataverseで一元化**し、各部門の業務効率向上を図ることです。
ウェブ・モバイル・タブレットの**全デバイスでレスポンシブUI対応**とします。

---

## 2. 実装予定機能

* **個体情報の登録・編集・更新**

  * 登録フォームから詳細入力し、データベースに保存

* **登録情報のリレーション**

  * 親猫・子猫・交配記録・出荷記録・病歴記録を相互に紐づけ、活用
    ・在舎猫の情報は名前でリレーション
    ・血統書データベースの参照、呼び出しはPedigreeIDでリレーション

* **交配管理表作成**

  * 交配予定/履歴の可視化と管理

* **出荷リスト作成**
  ・子猫情報に出荷ボタンを配置
  ・出荷先、価格を入力
  ・出荷出荷された猫は血統書データベースへ登録
  ・登録時に親猫のPedigreeIDが入力されているときは世代情報を取得して登録

* **血統書作成・印刷**
  ・新規作成ボタンを押すと血統書作成用フォームへ
  ・印刷ボタンを押すと定義されたレポート出力

* **タグ機能**

  * カスタムタグを作成し、各種カテゴリごとに分類・管理

---

## 3. UI設計

### 3.1 共通

* **レスポンシブ設計**（ウェブ・モバイル・タブレット）
* **固定フッターナビゲーション（5ボタン：登録／交配／子猫／ケア／その他）**

---

### 3.2 在舎猫一覧ページ（親猫管理）

* **１行表示でモバイルに最適化（モバイル多頭表示）**
* **カスタムタグ追加・編集・削除、タグによるフィルタリング**
* **検索ボックス（名前・種類）**
* リスト表示
* **リスト切替タブと検索ボックスは1行で横並びにまとめて配置**
*
* **タイトル、検索Box、リスト切替タブを同一Divに集約**
* **表示項目（毛色・誕生日・タイプ）を簡略化し省スペース化**

---

### 3.3 タグ管理

* **タグのカテゴリ分け、作成・編集・削除**
* **猫登録フォームでドロップダウンリスト選択可**

---

### 3.4 交配管理

* **交配スケジュール作成**

  * **縦型予定表（1ヶ月単位：列＝オス名／行＝日付、横スクロール対応）**

  * オス名クリックで交配可能メス一覧表示・追加

  * ペアごとに成功/失敗分岐→妊娠確認リストへ
    ・妊娠確認リストに妊娠、、妊娠せず分岐→出産予定リストへ

  * 履歴は交配履歴としてオス列にメス名をテキスト化して記録

  * 妊娠確認中・出産予定タブ
* **タブ最適化**

  * タブ・ボタン・フォントサイズ調整
  * モバイル横スクロール、フルスクリーン拡大・縮小ボタン
* **妊娠確認中リスト**

  * ペア名の下に妊娠確認/妊娠せずボタンを小さく横並び
  *
  *
* **出産予定リスト**

  * ペア名の横に交配日・出産予定日を横並び
  *

---

### 3.5 子猫管理

* **登録**

  * 出産予定日の近い母猫順で選択
  * 頭数（オス/メス）入力→子猫名は自動生成（母猫名＋番号）
  * **子猫一覧**

  - （母猫名, 子猫数, 月齢）を1行表示＋母猫名左に＋ボタンで子猫展開
  - 展開時は（名前,色柄,性別,最新体重）表示
  - 性別タグはオス水色/メスピンク
  - 編集・一括保存・タグ選択・備考欄あり
  - 出荷先・価格項目は現段階では削除
* **ケアスケジュール**
  * ケアカレンダーは横型（日付：列／母猫名：行）
  * ＋ボタンで子猫展開
  * ケアタスクはテンプレ自動生成（例：ミルク・洗い・投薬等）
  * 体重測定スケジュール設定・最新3回分表示
  * 本日のケア一覧（ミルク・洗い等）をタイトルのみ表示、展開/折り畳み可能
  * 特別ケア登録（アイコン表示・継続/完了チェックマーク付き）
* **モバイル最適化**
  * ボタン/フォント/アイコンサイズ調整
  * 固定フッターナビゲーション

---

## 4. 各情報構造とフィールド例

### ■ 猫基本情報

* 名前（CatName）
* 種類（Breed）
* 性別（Gender）
* 色柄（Color）
* 誕生日（DateOfBirth）
* 父の名前（FatherName）
* 母の名前（MotherName）
* タイプ（BodyType：タグ選択）
*血統書番号(PedigreeID)(血統書DBに登録がある場合リレーション)

### ■ 出産記録（メスのみ）

* 交配相手（PairCat）
* 出産日（DeliveryDate）
* 出産頭数（Kittens）

### ■ 子猫記録（出産記録に紐づく）

* 母の名前／父の名前／子猫名前／性別／色柄／体調
  （子猫名＝母猫名＋番号）

### ■ 病歴記録

* 日付/名前/症状/病名/治療内容/投薬/獣医診療
*継続/完治ボタン、継続で
### ■ 登録・更新方法

* 新規・更新ボタン付きフォームUI
* カメラ画像登録対応

---

## 5. 画面遷移・ページ設計

* **トップページ**：
**在舎猫一覧**
  * 編集・詳細・子猫一覧遷移
* **交配管理ページ**
  * 交配管理表・妊娠確認中・出産予定タブ
* **子猫一覧ページ**
 * 折りたたみ/展開式リスト・体重測定・ケア管理
* **タグ管理ページ**

  * タグ追加・編集・削除
* **各詳細ページ**

  * 基本情報＋出産・子猫・病歴記録等、折り畳み展開式

---

## 6. データベース設計・リレーション

* **親猫-子猫リレーション**
* **親猫-交配記録-出産記録**
* **子猫-ケアスケジュール**
* **個体-病歴記録**
* **タグ-個体/子猫リレーション**

---

## 7. 特記事項・最適化ポイント

* **全ページでモバイル・レスポンシブ最適化**
* **機能の重複・不要ボタン/項目は集約・削除**
* **各種カスタムタグの一括管理とドロップダウンUI統一**
* **スケジュール表やリスト表示は横スクロールや折り畳みで省スペース化**
* **一括編集・一括保存など実務効率化を最優先**

---

## 8. 今後の拡張例

* **出荷先/価格管理**
* **外部連携（LINE, Googleカレンダー等）**
* **音声入力・OCR対応**
* **API/外部サービス連携**

---

