{
  "name": "appproject",
  "version": "1.0.0",
  "description": "Cat Management System - Development Scripts",
  "scripts": {
    "predev": "kill-port 3004 3000 || echo ok",
    "dev": "run-p backend:dev frontend:dev:wait prisma:sync",
    "dev:full": "run-p backend:dev frontend:dev:wait prisma:sync db:studio",
    "start": "npm run dev",

    "backend:dev": "cross-env PORT=3004 npm --prefix backend run start:dev",
    "backend:install": "npm --prefix backend install",
  "db:migrate": "npm --prefix backend run prisma:migrate",
  "db:deploy": "npm --prefix backend run prisma:deploy",
    "db:generate": "npm --prefix backend run prisma:generate",
    "db:seed": "npm --prefix backend run seed",
    "db:studio": "npm --prefix backend run prisma:studio",
    "prisma:sync": "npm --prefix backend run prisma:sync:watch",

    "frontend:install": "npm --prefix cat-ui-test install",
    "frontend:dev:wait": "wait-on tcp:3004 && cross-env PORT=3000 npm --prefix cat-ui-test run dev",
    "frontend:build": "npm --prefix cat-ui-test run build",
    "frontend:start": "npm --prefix cat-ui-test run start",

  "test:health": "curl -s http://localhost:3004/health",
  "test:api": "curl -s http://localhost:3004/api/v1/pedigrees",
  "test:e2e": "npm --prefix backend run test:e2e -- --passWithNoTests",
  "api:smoke": "(curl -sS -X POST http://localhost:3004/api/v1/auth/register -H 'Content-Type: application/json' -d '{\"email\":\"dev1@example.com\",\"password\":\"Passw0rd!\"}' || true) && TOKEN=$(curl -sS -X POST http://localhost:3004/api/v1/auth/login -H 'Content-Type: application/json' -d '{\"email\":\"dev1@example.com\",\"password\":\"Passw0rd!\"}' | sed -n 's/.*\"access_token\":\"\\([^\\\"]*\\)\".*/\\1/p'); curl -sS -X POST http://localhost:3004/api/v1/tags -H \"Authorization: Bearer $TOKEN\" -H 'Content-Type: application/json' -d '{\"name\":\"indoor\",\"color\":\"#10B981\"}'",
    "help": "echo \"Available commands: dev, start, backend:*, db:*, test:*, frontend:*\"",
    "install:all": "run-p backend:install frontend:install"
  },
  "devDependencies": {
    "cross-env": "^10.0.0",
    "kill-port": "^2.0.1",
    "npm-run-all": "^4.1.5",
    "wait-on": "^8.0.4"
  },
  "engines": { "node": ">=20 <23" },
  "private": true
}
